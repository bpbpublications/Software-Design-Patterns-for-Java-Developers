const h = require('http')
const s = h.createServer((q, r) => {
   r.end('hello')
})
s.listen(12000, () => {
  h.get('http://localhost:12000', (m) => {
    m.on('data', (d) => {console.log(d.toString())})
    m.on('end', ()  => {s.close()})
  })
  s.on('close', () => {
    console.log('server closes')
  })
})
